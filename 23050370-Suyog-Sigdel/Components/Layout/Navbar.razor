@using _23050370_Suyog_Sigdel.Services
@inject ThemeService ThemeService
@using Microsoft.AspNetCore.Components.Routing

<div class="navbar @(ThemeService.IsDarkMode ? "dark" : "light")">
    <div class="navbar-content">
        <span class="navbar-brand">
            23050370-Suyog-Sigdel
        </span>
        
        <div class="nav-links">
            <NavLink href="/journals" class="nav-link" activeclass="active">
                Journals
            </NavLink>
            
            <button class="theme-toggle" @onclick="ToggleTheme">
                <i class="@(ThemeService.IsDarkMode ? "fas fa-moon" : "fas fa-sun")"></i>
            </button>
        </div>
    </div>
</div>

@code {
    private async Task ToggleTheme()
    {
        // Trigger animation
        await InvokeAsync(StateHasChanged);
        await Task.Delay(50); // Small delay for animation start
        
        // Change theme
        ThemeService.ToggleTheme();
    }
}