@using _23050370_Suyog_Sigdel.Models

<div class="journal-card @(IsEditing ? "editing" : "")">
    <div class="entry-header">
        <div class="header-info">
            @if (!string.IsNullOrWhiteSpace(Entry.Title))
            {
                <h3 class="entry-title">@Entry.Title</h3>
            }
            <span class="date">@Entry.EntryDay.ToDateTime(TimeOnly.MinValue).ToString("dddd, MMMM dd, yyyy")</span>
            
            @if (Entry.Tags != null && Entry.Tags.Any())
            {
                <div class="entry-tags">
                    @foreach (var tag in Entry.Tags)
                    {
                        <span class="tag-chip">@tag.Name</span>
                    }
                </div>
            }
        </div>
        <div class="entry-actions">
            <button class="btn-edit" @onclick="OnEdit" title="Edit">
                <i class="fas fa-edit"></i>
            </button>
            <button class="btn-delete" @onclick="OnDelete" title="Delete">
                Ã—
            </button>
        </div>
    </div>
    <div class="content">
        @((MarkupString)Entry.Content)
    </div>
</div>

@code {
    [Parameter]
    public JournalEntryModel Entry { get; set; } = null!;

    [Parameter]
    public bool IsEditing { get; set; } = false;

    [Parameter]
    public EventCallback OnEdit { get; set; }

    [Parameter]
    public EventCallback OnDelete { get; set; }
}